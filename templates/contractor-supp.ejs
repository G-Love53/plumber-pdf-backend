<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Contractor Supplemental Application</title>
</head>
<body>
  <% function yn(v){ return (String(v||'').toLowerCase()==='yes' || v===true) } %>
  <% function fmt(v){ return (v===undefined || v===null || v==='') ? '' : v } %>
  <% function box(v){ return yn(v) ? 'box checked' : 'box' } %>

  <div class="page">
    <div class="header">
      <div class="h-title">Contractor Supplemental Application</div>
      <div class="h-meta">Prepared: <%= new Date().toLocaleDateString() %></div>
    </div>

    <div class="section">
      <div class="sec-head">Agent & Applicant</div>
      <div class="sec-body grid">
        <div class="col-6"><div class="label">Agent Name</div><div class="input"><%= fmt(data.agent_applicant?.agent_name) %></div></div>
        <div class="col-3"><div class="label">Agent Number</div><div class="input"><%= fmt(data.agent_applicant?.agent_number) %></div></div>
        <div class="col-3"><div class="label">Agent Phone</div><div class="input"><%= fmt(data.agent_applicant?.agent_phone) %></div></div>
        <div class="col-6"><div class="label">Applicant’s Name</div><div class="input"><%= fmt(data.agent_applicant?.applicant_name) %></div></div>
        <div class="col-6"><div class="label">Mailing Address</div><div class="input"><%= fmt(data.agent_applicant?.mailing_address) %></div></div>
        <div class="col-6"><div class="label">Phone Number</div><div class="input"><%= fmt(data.agent_applicant?.applicant_phone) %></div></div>
        <div class="col-6"><div class="label">Web Address</div><div class="input"><%= fmt(data.agent_applicant?.web_address) %></div></div>
        <div class="col-6"><div class="label">Proposed Policy From</div><div class="input"><%= fmt(data.agent_applicant?.policy_from) %></div></div>
        <div class="col-6"><div class="label">Proposed Policy To</div><div class="input"><%= fmt(data.agent_applicant?.policy_to) %></div></div>
        <div class="col-6"><div class="label">Business Structure</div><div class="input"><%= fmt(data.agent_applicant?.business_structure) %></div></div>
        <div class="col-12"><div class="label">Locations</div><div class="input"><% (data.agent_applicant?.locations||[]).forEach(function(loc,idx){ %><span><%= idx+1 %>.</span> <%= fmt(loc) %>&nbsp;&nbsp;<% }) %></div></div>
      </div>
    </div>

    <div class="section">
      <div class="sec-head">Experience & Licensing</div>
      <div class="sec-body grid">
        <div class="col-4"><div class="label">Years in Business</div><div class="input"><%= fmt(data.experience_licensing?.years_in_business) %></div></div>
        <div class="col-4"><div class="label">Years Experience</div><div class="input"><%= fmt(data.experience_licensing?.years_experience) %></div></div>
        <div class="col-4"><div class="label">Licensed?</div><div class="input"><%= yn(data.experience_licensing?.is_licensed) ? 'Yes' : 'No' %></div></div>
        <div class="col-6"><div class="label">License Number</div><div class="input"><%= fmt(data.experience_licensing?.license_number) %></div></div>
        <div class="col-6"><div class="label">License Type</div><div class="input"><%= fmt(data.experience_licensing?.license_type) %></div></div>
      </div>
    </div>

    <div class="section">
      <div class="sec-head">Work Type Mix</div>
      <div class="sec-body grid">
        <div class="col-3"><div class="label">New Construction %</div><div class="input"><%= fmt(data.work_mix?.pct_new_construction) %></div></div>
        <div class="col-3"><div class="label">Renovation %</div><div class="input"><%= fmt(data.work_mix?.pct_renovation) %></div></div>
        <div class="col-3"><div class="label">Developer %</div><div class="input"><%= fmt(data.work_mix?.pct_developer) %></div></div>
        <div class="col-3"><div class="label">Other %</div><div class="input"><%= fmt(data.work_mix?.pct_other) %></div></div>
        <div class="col-6"><div class="label">General Contractor %</div><div class="input"><%= fmt(data.work_mix?.pct_gc) %></div></div>
        <div class="col-6"><div class="label">Subcontractor %</div><div class="input"><%= fmt(data.work_mix?.pct_sub) %></div></div>
        <div class="col-6"><div class="label">Work by Employees %</div><div class="input"><%= fmt(data.work_mix?.pct_employees) %></div></div>
        <div class="col-6"><div class="label">Work by Subs %</div><div class="input"><%= fmt(data.work_mix?.pct_subs_under_supervision) %></div></div>
      </div>
    </div>

    <div class="footer"><div>Contractor Supplemental • Page 1</div><div>© Commercial Insurance Direct LLC</div></div>
  </div>

  <div class="page">
    <div class="header"><div class="h-title">Residential / Tract / Apartments</div></div>
    <div class="section">
      <div class="sec-head">Residential / Tract / Apartments</div>
      <div class="sec-body grid">
        <div class="col-6"><div class="label"># New detached single family homes/year</div><div class="input"><%= fmt(data.residential_multi?.homes_per_year) %></div></div>
        <div class="col-6"><div class="label">Past NEW condo/townhome/tract dev</div><div class="input"><%= yn(data.residential_multi?.past_new_multi_res) ? 'Yes' : 'No' %></div></div>
        <div class="col-12"><div class="label">If yes, specify work & max units</div><div class="input"><%= fmt(data.residential_multi?.past_new_multi_res_desc) %></div></div>
        <div class="col-6"><div class="label">Most recent project completion date</div><div class="input"><%= fmt(data.residential_multi?.most_recent_completion) %></div></div>
        <div class="col-6"><div class="label">Upcoming NEW condo/townhome/tract dev</div><div class="input"><%= yn(data.residential_multi?.upcoming_new_multi_res) ? 'Yes' : 'No' %></div></div>
        <div class="col-12"><div class="label">If yes, explain & units</div><div class="input"><%= fmt(data.residential_multi?.upcoming_new_multi_res_desc) %></div></div>
        <div class="col-6"><div class="label">Any work involving Apartments</div><div class="input"><%= yn(data.residential_multi?.any_apartment_work) ? 'Yes' : 'No' %></div></div>
        <div class="col-6"><div class="label">If yes, units</div><div class="input"><%= fmt(data.residential_multi?.apartment_work_desc) %></div></div>
      </div>
    </div>

    <div class="section">
      <div class="sec-head">Subcontractor Controls</div>
      <div class="sec-body grid">
        <div class="col-4"><div class="label">Hire subcontractors</div><div class="input"><%= yn(data.sub_controls?.hire_subs) ? 'Yes' : 'No' %></div></div>
        <div class="col-4"><div class="label">COIs required before start</div><div class="input"><%= yn(data.sub_controls?.subs_require_coi) ? 'Yes' : 'No' %></div></div>
        <div class="col-4"><div class="label">Subs carry lower limits</div><div class="input"><%= yn(data.sub_controls?.subs_carry_lower_limits) ? 'Yes' : 'No' %></div></div>
        <div class="col-6"><div class="label">Minimum limits accepted</div><div class="input"><%= fmt(data.sub_controls?.subs_min_limits) %></div></div>
        <div class="col-6"><div class="label">Subs carry WC</div><div class="input"><%= yn(data.sub_controls?.subs_wc) ? 'Yes' : 'No' %></div></div>
        <div class="col-6"><div class="label">Written contracts with IH/HH clause</div><div class="input"><%= yn(data.sub_controls?.subs_contracts_holdharmless) ? 'Yes' : 'No' %></div></div>
        <div class="col-6"><div class="label">Named as AI on subs</div><div class="input"><%= yn(data.sub_controls?.subs_ai) ? 'Yes' : 'No' %></div></div>
        <div class="col-6"><div class="label">How long are COIs kept?</div><div class="input"><%= fmt(data.sub_controls?.coi_retention_period) %></div></div>
      </div>
    </div>

    <div class="section">
      <div class="sec-head">Remodeling, Wraps & Safety</div>
      <div class="sec-body grid">
        <div class="col-4"><div class="label">Do repair/remodeling</div><div class="input"><%= yn(data.remodel_wrap_safety?.do_remodeling) ? 'Yes' : 'No' %></div></div>
        <div class="col-4"><div class="label">Renovation for HOA/Condo/Townhome</div><div class="input"><%= yn(data.remodel_wrap_safety?.renovation_for_hoa) ? 'Yes' : 'No' %></div></div>
        <div class="col-4"><div class="label">Condo conversions</div><div class="input"><%= yn(data.remodel_wrap_safety?.condo_conversions) ? 'Yes' : 'No' %></div></div>
        <div class="col-12"><div class="label">If yes, describe work & units</div><div class="input"><%= fmt(data.remodel_wrap_safety?.remodeling_desc) %></div></div>
        <div class="col-6"><div class="label">Any construction defect or mold claims</div><div class="input"><%= yn(data.remodel_wrap_safety?.any_defect_or_mold_claims) ? 'Yes' : 'No' %></div></div>
        <div class="col-6"><div class="label">Aware of potential defect/mold claims</div><div class="input"><%= yn(data.remodel_wrap_safety?.aware_future_defect_mold) ? 'Yes' : 'No' %></div></div>
        <div class="col-6"><div class="label">Current Wrap/OCIP projects</div><div class="input"><%= yn(data.remodel_wrap_safety?.wrap_ocip) ? 'Yes' : 'No' %></div></div>
        <div class="col-6"><div class="label">Wrap/OCIP projected cost</div><div class="input"><%= fmt(data.remodel_wrap_safety?.wrap_projected_cost) %></div></div>
        <div class="col-12"><div class="label">Written safety program</div><div class="input"><%= yn(data.remodel_wrap_safety?.written_safety_program) ? 'Yes' : 'No' %></div></div>
        <div class="col-12"><div class="label">Safety precautions</div><div class="input"><%= fmt(data.remodel_wrap_safety?.safety_precautions) %></div></div>
        <div class="col-12"><div class="label">Public protection measures</div><div class="input"><%= fmt(data.remodel_wrap_safety?.public_protection) %></div></div>
      </div>
    </div>

    <div class="footer"><div>Contractor Supplemental • Page 2</div><div>© Commercial Insurance Direct LLC</div></div>
  </div>

  <div class="page">
    <div class="header"><div class="h-title">Ops, Professional, Employment</div></div>
    <div class="section">
      <div class="sec-head">Ops & Exposures</div>
      <div class="sec-body grid">
        <div class="col-4"><div class="label">Jobsite security at night</div><div class="input"><%= yn(data.ops_exposures?.jobsite_security) ? 'Yes' : 'No' %></div></div>
        <div class="col-4"><div class="label">Max building height (stories)</div><div class="input"><%= fmt(data.ops_exposures?.max_height_stories) %></div></div>
        <div class="col-4"><div class="label">Post-completion inspection</div><div class="input"><%= yn(data.ops_exposures?.post_completion_inspection) ? 'Yes' : 'No' %></div></div>
        <div class="col-4"><div class="label">Out-of-state work</div><div class="input"><%= yn(data.ops_exposures?.out_of_state_work) ? 'Yes' : 'No' %></div></div>
        <div class="col-8"><div class="label">If yes, states & details</div><div class="input"><%= fmt(data.ops_exposures?.out_of_state_details) %></div></div>
        <div class="col-12"><div class="label">Work in AZ, CA, CO, NV, NY, OR, UT, WA</div><div class="input"><%= yn(data.ops_exposures?.restricted_states_work) ? 'Yes' : 'No' %></div></div>
        <div class="col-12"><div class="label">If yes, details</div><div class="input"><%= fmt(data.ops_exposures?.restricted_states_details) %></div></div>
      </div>
    </div>

    <div class="section">
      <div class="sec-head">Professional / Equipment / Environmental</div>
      <div class="sec-body grid">
        <div class="col-4"><div class="label">Asbestos ever</div><div class="input"><%= yn(data.prof_equip_env?.asbestos) ? 'Yes' : 'No' %></div></div>
        <div class="col-4"><div class="label">Draw plans/specs</div><div class="input"><%= yn(data.prof_equip_env?.draw_plans) ? 'Yes' : 'No' %></div></div>
        <div class="col-4"><div class="label">Lease equipment to others</div><div class="input"><%= yn(data.prof_equip_env?.lease_equipment_to_others) ? 'Yes' : 'No' %></div></div>
        <div class="col-12"><div class="label">Describe (plans/equipment)</div><div class="input"><%= fmt(data.prof_equip_env?.plans_equipment_desc) %></div></div>
        <div class="col-4"><div class="label">Employ soil engineer</div><div class="input"><%= yn(data.prof_equip_env?.employ_soil_engineer) ? 'Yes' : 'No' %></div></div>
        <div class="col-4"><div class="label">Hire independent soil engineer</div><div class="input"><%= yn(data.prof_equip_env?.indep_soil_engineer) ? 'Yes' : 'No' %></div></div>
        <div class="col-4"><div class="label">AI on his policy</div><div class="input"><%= yn(data.prof_equip_env?.soil_engineer_ai) ? 'Yes' : 'No' %></div></div>
        <div class="col-4"><div class="label">Offer warranties</div><div class="input"><%= yn(data.prof_equip_env?.offer_warranties) ? 'Yes' : 'No' %></div></div>
        <div class="col-4"><div class="label">Mobile equipment on roads</div><div class="input"><%= yn(data.prof_equip_env?.mobile_equip_on_roads) ? 'Yes' : 'No' %></div></div>
        <div class="col-4"><div class="label">Lease mobile equipment</div><div class="input"><%= yn(data.prof_equip_env?.lease_mobile_equip) ? 'Yes' : 'No' %></div></div>
        <div class="col-12"><div class="label">COIs required when leased with operator</div><div class="input"><%= yn(data.prof_equip_env?.lease_equip_coi) ? 'Yes' : 'No' %></div></div>
        <div class="col-12"><div class="label">Fire restoration or water remediation</div><div class="input"><%= yn(data.prof_equip_env?.fire_water_remediation) ? 'Yes' : 'No' %></div></div>
        <div class="col-12"><div class="label">Hazardous materials operations</div><div class="input"><%= yn(data.prof_equip_env?.hazmat_ops) ? 'Yes' : 'No' %></div></div>
      </div>
    </div>

    <div class="section">
      <div class="sec-head">Employment & Corporate</div>
      <div class="sec-body grid">
        <div class="col-4"><div class="label">Lease employees</div><div class="input"><%= yn(data.employment_corp?.lease_employees) ? 'Yes' : 'No' %></div></div>
        <div class="col-4"><div class="label">Workers comp in force</div><div class="input"><%= yn(data.employment_corp?.workers_comp) ? 'Yes' : 'No' %></div></div>
        <div class="col-4"><div class="label">Labor interchange with other businesses</div><div class="input"><%= yn(data.employment_corp?.labor_interchange) ? 'Yes' : 'No' %></div></div>
        <div class="col-12"><div class="label">Other names used (past)</div><div class="input"><%= fmt(data.employment_corp?.other_names_used) %></div></div>
      </div>
    </div>

    <div class="footer"><div>Contractor Supplemental • Page 3</div><div>© Commercial Insurance Direct LLC</div></div>
  </div>

  <div class="page">
    <div class="header"><div class="h-title">Supervision • Real Estate • Special Hazards • Revenue • Jobs • Corporate</div></div>

    <div class="section">
      <div class="sec-head">Supervision & Real Estate</div>
      <div class="sec-body grid">
        <div class="col-6"><div class="label"># Executive supervisors</div><div class="input"><%= fmt(data.supervision_realestate?.exec_supervisors_count) %></div></div>
        <div class="col-6"><div class="label">Estimated payroll</div><div class="input"><%= fmt(data.supervision_realestate?.exec_supervisors_payroll) %></div></div>
        <div class="col-12"><div class="label">Experience of executive supervisors</div><div class="input"><%= fmt(data.supervision_realestate?.exec_supervisors_experience) %></div></div>
        <div class="col-4"><div class="label"># Model Homes</div><div class="input"><%= fmt(data.supervision_realestate?.model_homes) %></div></div>
        <div class="col-4"><div class="label">Development Property (acres)</div><div class="input"><%= fmt(data.supervision_realestate?.dev_property_acres) %></div></div>
        <div class="col-4"><div class="label">Vacant Land (acres)</div><div class="input"><%= fmt(data.supervision_realestate?.vacant_land_acres) %></div></div>
      </div>
    </div>

    <div class="section">
      <div class="sec-head">Special Hazards</div>
      <div class="sec-body grid">
        <div class="col-4"><div class="label">Use cranes</div><div class="input"><%= yn(data.special_hazards?.use_cranes) ? 'Yes' : 'No' %></div></div>
        <div class="col-4"><div class="label">Use tower cranes</div><div class="input"><%= yn(data.special_hazards?.use_tower_cranes) ? 'Yes' : 'No' %></div></div>
        <div class="col-4"><div class="label">Boom length (ft)</div><div class="input"><%= fmt(data.special_hazards?.boom_length_ft) %></div></div>
        <div class="col-4"><div class="label">EIFS</div><div class="input"><%= yn(data.special_hazards?.eifs) ? 'Yes' : 'No' %></div></div>
        <div class="col-4"><div class="label">Demolition (beyond interior)</div><div class="input"><%= yn(data.special_hazards?.demo_structures) ? 'Yes' : 'No' %></div></div>
        <div class="col-4"><div class="label">Structural alterations</div><div class="input"><%= yn(data.special_hazards?.structural_alterations) ? 'Yes' : 'No' %></div></div>
        <div class="col-4"><div class="label">Blasting</div><div class="input"><%= yn(data.special_hazards?.blasting) ? 'Yes' : 'No' %></div></div>
        <div class="col-4"><div class="label">Foundation repair</div><div class="input"><%= yn(data.special_hazards?.foundation_repair) ? 'Yes' : 'No' %></div></div>
        <div class="col-4"><div class="label">Shoring/underpinning</div><div class="input"><%= yn(data.special_hazards?.shoring_underpinning) ? 'Yes' : 'No' %></div></div>
        <div class="col-4"><div class="label">Pile driving</div><div class="input"><%= yn(data.special_hazards?.pile_driving) ? 'Yes' : 'No' %></div></div>
        <div class="col-4"><div class="label">Caisson/cofferdam</div><div class="input"><%= yn(data.special_hazards?.caisson_cofferdam) ? 'Yes' : 'No' %></div></div>
        <div class="col-12"><div class="label">Other special hazards</div><div class="input"><%= fmt(data.special_hazards?.other_special_hazards) %></div></div>
        <div class="col-12"><div class="label">Chinese drywall installed by you/subs</div><div class="input"><%= yn(data.special_hazards?.chinese_drywall) ? 'Yes' : 'No' %></div></div>
        <div class="col-12"><div class="label">Torch-down or hot tar roofing</div><div class="input"><%= yn(data.special_hazards?.torch_or_hot_tar) ? 'Yes' : 'No' %></div></div>
        <div class="col-6"><div class="label">% Hot Tar</div><div class="input"><%= fmt(data.special_hazards?.pct_hot_tar) %></div></div>
        <div class="col-6"><div class="label">% Torch Down</div><div class="input"><%= fmt(data.special_hazards?.pct_torch_down) %></div></div>
      </div>
    </div>

    <div class="section">
      <div class="sec-head">Trades & Payroll/Sub Costs</div>
      <div class="sec-body">
        <table class="table">
          <thead><tr><th>Trade</th><th>By (employees/subs)</th><th>Projected $</th></tr></thead>
          <tbody>
            <tr><td>Plumbing</td><td><%= fmt(data.trades?.trade_plumbing_by) %></td><td><%= fmt(data.trades?.trade_plumbing_cost) %></td></tr>
            <tr><td>Electrical</td><td><%= fmt(data.trades?.trade_electrical_by) %></td><td><%= fmt(data.trades?.trade_electrical_cost) %></td></tr>
            <tr><td>Roofing</td><td><%= fmt(data.trades?.trade_roofing_by) %></td><td><%= fmt(data.trades?.trade_roofing_cost) %></td></tr>
            <tr><td>Excavation</td><td><%= fmt(data.trades?.trade_excavation_by) %></td><td><%= fmt(data.trades?.trade_excavation_cost) %></td></tr>
            <tr><td>Other</td><td><%= fmt(data.trades?.trade_other_by) %></td><td><%= fmt(data.trades?.trade_other_cost) %></td></tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="section">
      <div class="sec-head">Revenue</div>
      <div class="sec-body grid">
        <div class="col-12"><div class="label">Projected Gross Revenue (upcoming term) $</div><div class="input"><%= fmt(data.revenue?.projected_revenue) %></div></div>
        <div class="col-4"><div class="label">Year 1 Gross Sales $</div><div class="input"><%= fmt(data.revenue?.gross_sales_y1) %></div></div>
        <div class="col-4"><div class="label">Year 2 Gross Sales $</div><div class="input"><%= fmt(data.revenue?.gross_sales_y2) %></div></div>
        <div class="col-4"><div class="label">Year 3 Gross Sales $</div><div class="input"><%= fmt(data.revenue?.gross_sales_y3) %></div></div>
      </div>
    </div>

    <div class="section">
      <div class="sec-head">Largest Jobs</div>
      <div class="sec-body grid">
        <div class="col-12"><div class="label">Top 5 jobs in last 5 years</div><div class="input"><%= fmt(data.largest_jobs?.largest_jobs_last5) %></div></div>
        <div class="col-12"><div class="label">Top 5 projects planned upcoming year</div><div class="input"><%= fmt(data.largest_jobs?.largest_projects_upcoming) %></div></div>
      </div>
    </div>

    <div class="section">
      <div class="sec-head">Corporate & History</div>
      <div class="sec-body grid">
        <div class="col-6"><div class="label">Subsidiary of another entity</div><div class="input"><%= yn(data.corporate_history?.is_subsidiary) ? 'Yes' : 'No' %></div></div>
        <div class="col-6"><div class="label">Any subsidiaries</div><div class="input"><%= yn(data.corporate_history?.has_subsidiaries) ? 'Yes' : 'No' %></div></div>
        <div class="col-6"><div class="label">Ops sold/acquired/discontinued (5 yrs)</div><div class="input"><%= yn(data.corporate_history?.ops_changed_5yrs) ? 'Yes' : 'No' %></div></div>
        <div class="col-6"><div class="label">Cancelled/declined/refused similar insurance (3 yrs)</div><div class="input"><%= yn(data.corporate_history?.declined_insurance_3yrs) ? 'Yes' : 'No' %></div></div>
        <div class="col-6"><div class="label">Exposure to flammables/explosives/chemicals</div><div class="input"><%= yn(data.corporate_history?.flammables_exposure) ? 'Yes' : 'No' %></div></div>
        <div class="col-6"><div class="label">Active in joint ventures</div><div class="input"><%= yn(data.corporate_history?.joint_ventures) ? 'Yes' : 'No' %></div></div>
        <div class="col-6"><div class="label">Bankruptcies/tax/credit liens (5 yrs)</div><div class="input"><%= yn(data.corporate_history?.bankruptcy_tax_liens_5yrs) ? 'Yes' : 'No' %></div></div>
        <div class="col-12"><div class="label">Explain all “Yes” responses</div><div class="input"><%= fmt(data.corporate_history?.corp_history_explain) %></div></div>
        <div class="col-12"><div class="label">Additional Info</div><div class="input"><%= fmt(data.corporate_history?.additional_info) %></div></div>
      </div>
    </div>

    <div class="footer"><div>Contractor Supplemental • Page 4</div><div>© Commercial Insurance Direct LLC</div></div>
  </div>
</body>
</html>
